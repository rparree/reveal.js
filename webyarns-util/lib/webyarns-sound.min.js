"use strict";function _defineProperty(t,r,e){return r in t?Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[r]=e,t}function _toConsumableArray(t){return _arrayWithoutHoles(t)||_iterableToArray(t)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}function _arrayWithoutHoles(t){if(Array.isArray(t)){for(var r=0,e=new Array(t.length);r<t.length;r++)e[r]=t[r];return e}}function _slicedToArray(t,r){return _arrayWithHoles(t)||_iterableToArrayLimit(t,r)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(t,r){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)){var e=[],n=!0,o=!1,i=void 0;try{for(var a,u=t[Symbol.iterator]();!(n=(a=u.next()).done)&&(e.push(a.value),!r||e.length!==r);n=!0);}catch(t){o=!0,i=t}finally{try{n||null==u.return||u.return()}finally{if(o)throw i}}return e}}function _arrayWithHoles(t){if(Array.isArray(t))return t}function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}!function(t){"object"===("undefined"==typeof exports?"undefined":_typeof(exports))?module.exports=t():document.addEventListener("DOMContentLoaded",t)}(function(){function s(t){return t.startsWith("!")||t.startsWith(">")||t.startsWith("#")?t.substring(1):t}function f(t){return t?t.split(",").map(function(t){return t.trim()}):[]}function d(t,r){var e=_slicedToArray(function(t,i){return t.reduce(function(t,r){var e=_slicedToArray(t,2),n=e[0],o=e[1];return i(r)?[[].concat(_toConsumableArray(n),[r]),o]:[n,[].concat(_toConsumableArray(o),[r])]},[[],[]])}(r,function(t){return t.startsWith("!")}),2),n=e[0],o=e[1],i=o.filter(function(t){return t.startsWith("#")}).map(s),a=o.filter(function(t){return t.startsWith(">")}).map(s);p=[].concat(_toConsumableArray(p),_toConsumableArray(a));var u=t.map(s),l=r.map(s),c=n.map(s);return[[].concat(_toConsumableArray(u.filter(function(t){return!o.includes(t)}).filter(function(t){return!c.includes(t)}).filter(function(t){return-1===p.indexOf(t)})),_toConsumableArray(i)),[].concat(_toConsumableArray(l.filter(function(t){return!u.includes(t)}).filter(function(t){return!i.includes(t)})),_toConsumableArray(c))]}function t(e){function r(t){var r=e.currentSlide.getAttribute("data-sounds-"+t)||e.currentSlide.getAttribute(t);return r?parseInt(r,10):1500}var t,n=null===(t=e.previousSlide)||void 0===t?void 0:t.getAttribute("data-sounds"),o=e.currentSlide.getAttribute("data-sounds"),i=f(o),a=f(n),u=_slicedToArray(d(a,i),2),l=u[0],c=u[1];l.map(function(t){y[t]?y[t].fade(1,0,r("fade-out-speed")):console.error("no invalid audioMap for "+t)}),c.map(function(t){y[t]?(y[t].stop(),y[t].play(),y[t].fade(0,1,r("fade-in-speed"))):console.error("no invalid audioMap for "+t)})}var r,n=null==(r=document.getElementById("sounds"))?(console.error('Cannot find <script id="sounds" type="application/json">'),{}):JSON.parse(r.innerHTML),y=Object.keys(n).reduce(function(t,r){var e=new Howl({src:n[r].src,loop:Boolean(n[r].loop)});return e.on("fade",function(t){0===e.volume()&&e.stop(t)}),Object.assign(t,_defineProperty({},r,e))},{}),p=[];return Reveal.addEventListener("ready",t),Reveal.addEventListener("slidechanged",t),{soundHandler:t,_test:{nextAudioActions:d}}});