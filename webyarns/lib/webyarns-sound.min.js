"use strict";function _defineProperty(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _toConsumableArray(t){return _arrayWithoutHoles(t)||_iterableToArray(t)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}function _arrayWithoutHoles(t){if(Array.isArray(t)){for(var e=0,r=new Array(t.length);e<t.length;e++)r[e]=t[e];return r}}function _slicedToArray(t,e){return _arrayWithHoles(t)||_iterableToArrayLimit(t,e)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(t,e){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)){var r=[],n=!0,o=!1,i=void 0;try{for(var a,u=t[Symbol.iterator]();!(n=(a=u.next()).done)&&(r.push(a.value),!e||r.length!==e);n=!0);}catch(t){o=!0,i=t}finally{try{n||null==u.return||u.return()}finally{if(o)throw i}}return r}}function _arrayWithHoles(t){if(Array.isArray(t))return t}function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}!function(t){"object"===("undefined"==typeof exports?"undefined":_typeof(exports))?module.exports=t():document.addEventListener("DOMContentLoaded",t)}(function(){function l(t){return t.startsWith("!")?t.substring(1):t}function s(t){return t?t.split(",").map(function(t){return t.trim()}):[]}function f(t,e){var r=_slicedToArray(function(t,i){return t.reduce(function(t,e){var r=_slicedToArray(t,2),n=r[0],o=r[1];return i(e)?[[].concat(_toConsumableArray(n),[e]),o]:[n,[].concat(_toConsumableArray(o),[e])]},[[],[]])}(e,function(t){return t.startsWith("!")}),2),n=r[0],o=r[1],i=t.map(l),a=e.map(l),u=n.map(l);return[i.filter(function(t){return!o.includes(t)}).filter(function(t){return!u.includes(t)}),[].concat(_toConsumableArray(a.filter(function(t){return!i.includes(t)})),_toConsumableArray(u))]}function t(r){function e(t){var e=r.currentSlide.getAttribute(t);return e?parseInt(e,10):1500}var t,n=null===(t=r.previousSlide)||void 0===t?void 0:t.getAttribute("data-sounds"),o=r.currentSlide.getAttribute("data-sounds"),i=s(o),a=s(n),u=_slicedToArray(f(a,i),2),l=u[0],c=u[1];l.map(function(t){d[t].fade(1,0,e("fade-out-speed"))}),c.map(function(t){d[t].stop(),d[t].play(),d[t].fade(0,1,e("fade-in-speed"))})}var e,n=null==(e=document.getElementById("sounds"))?(console.error('Cannot find <script id="sounds" type="application/json">'),{}):JSON.parse(e.innerHTML),d=Object.keys(n).reduce(function(t,e){var r=new Howl({src:n[e].src,loop:Boolean(n[e].loop)});return r.on("fade",function(t){0===r.volume()&&r.stop(t)}),Object.assign(t,_defineProperty({},e,r))},{});return Reveal.addEventListener("ready",t),Reveal.addEventListener("slidechanged",t),{soundHandler:t,_test:{nextAudioActions:f}}});