"use strict";

/// <reference path ="../../node_modules/@types/reveal/index.d.ts"/>
(function () {
  var plugin = {
    init: function init() {
      var style = document.createElement('style');
      document.head.appendChild(style);
      addSupportForAnchorWithDataLink(style.sheet);
      addSupportForTimedSections();
    }
  };
  /**
   * allows for
   * `<a data-link-indexh="1">link to slide</a>`
   * @param webyarnsCSS
   */

  function addSupportForAnchorWithDataLink(webyarnsCSS) {
    webyarnsCSS.insertRule("a[data-link-indexh] { cursor: pointer }", 0);
    document.querySelectorAll("a[data-link-indexh]").forEach(function (e) {
      return e.addEventListener("click", function (evt) {
        evt.preventDefault();
        var s = e.getAttribute("data-link-indexh");

        if (s) {
          var idx = parseInt(s, 10);
          Reveal.slide(idx);
        }
      });
    });
  }

  function addSupportForTimedSections() {
    Reveal.addEventListener('slidechanged', function (event) {
      var curAutoMove = event.currentSlide.getAttribute("data-auto-move-to");

      if (curAutoMove) {
        var timeout = event.currentSlide.getAttribute("data-auto-move-time-sec") * 1000 | 3000;
        var timer = setTimeout(function () {
          var slide = parseInt(curAutoMove, 10) - 1;
          Reveal.slide(slide);
        }, timeout);
        Reveal.addEventListener('slidechanged', function () {
          return clearTimeout(timer);
        });
      }
    });
  }

  Reveal.registerPlugin('WebyarnPlugin', plugin);
})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL3NyYy93ZWJ5YXJuLXBsdWdpbi50cyJdLCJuYW1lcyI6WyJwbHVnaW4iLCJpbml0Iiwic3R5bGUiLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJoZWFkIiwiYXBwZW5kQ2hpbGQiLCJhZGRTdXBwb3J0Rm9yQW5jaG9yV2l0aERhdGFMaW5rIiwic2hlZXQiLCJhZGRTdXBwb3J0Rm9yVGltZWRTZWN0aW9ucyIsIndlYnlhcm5zQ1NTIiwiaW5zZXJ0UnVsZSIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJmb3JFYWNoIiwiZSIsImFkZEV2ZW50TGlzdGVuZXIiLCJldnQiLCJwcmV2ZW50RGVmYXVsdCIsInMiLCJnZXRBdHRyaWJ1dGUiLCJpZHgiLCJwYXJzZUludCIsIlJldmVhbCIsInNsaWRlIiwiZXZlbnQiLCJjdXJBdXRvTW92ZSIsImN1cnJlbnRTbGlkZSIsInRpbWVvdXQiLCJ0aW1lciIsInNldFRpbWVvdXQiLCJjbGVhclRpbWVvdXQiLCJyZWdpc3RlclBsdWdpbiJdLCJtYXBwaW5ncyI6Ijs7QUFBQTtBQUNBLENBQUMsWUFBWTtBQUVULE1BQU1BLE1BQU0sR0FBRztBQUNYQyxJQUFBQSxJQUFJLEVBQUUsZ0JBQU07QUFDUixVQUFNQyxLQUFLLEdBQUdDLFFBQVEsQ0FBQ0MsYUFBVCxDQUF1QixPQUF2QixDQUFkO0FBQ0FELE1BQUFBLFFBQVEsQ0FBQ0UsSUFBVCxDQUFjQyxXQUFkLENBQTBCSixLQUExQjtBQUNBSyxNQUFBQSwrQkFBK0IsQ0FBQ0wsS0FBSyxDQUFDTSxLQUFQLENBQS9CO0FBQ0FDLE1BQUFBLDBCQUEwQjtBQUM3QjtBQU5VLEdBQWY7QUFTQTs7Ozs7O0FBS0EsV0FBU0YsK0JBQVQsQ0FBeUNHLFdBQXpDLEVBQXFFO0FBQ2pFQSxJQUFBQSxXQUFXLENBQUNDLFVBQVosQ0FBdUIseUNBQXZCLEVBQWtFLENBQWxFO0FBQ0FSLElBQUFBLFFBQVEsQ0FBQ1MsZ0JBQVQsQ0FBMEIscUJBQTFCLEVBQ0tDLE9BREwsQ0FDYSxVQUFBQyxDQUFDO0FBQUEsYUFBSUEsQ0FBQyxDQUFDQyxnQkFBRixDQUFtQixPQUFuQixFQUE0QixVQUFDQyxHQUFELEVBQVM7QUFDL0NBLFFBQUFBLEdBQUcsQ0FBQ0MsY0FBSjtBQUNBLFlBQU1DLENBQUMsR0FBR0osQ0FBQyxDQUFDSyxZQUFGLENBQWUsa0JBQWYsQ0FBVjs7QUFDQSxZQUFJRCxDQUFKLEVBQU87QUFDSCxjQUFNRSxHQUFHLEdBQUdDLFFBQVEsQ0FBQ0gsQ0FBRCxFQUFJLEVBQUosQ0FBcEI7QUFDQUksVUFBQUEsTUFBTSxDQUFDQyxLQUFQLENBQWFILEdBQWI7QUFDSDtBQUVKLE9BUmEsQ0FBSjtBQUFBLEtBRGQ7QUFVSDs7QUFFRCxXQUFTWCwwQkFBVCxHQUFzQztBQUNsQ2EsSUFBQUEsTUFBTSxDQUFDUCxnQkFBUCxDQUF3QixjQUF4QixFQUF3QyxVQUFVUyxLQUFWLEVBQWlCO0FBQ3JELFVBQU1DLFdBQVcsR0FBR0QsS0FBSyxDQUFDRSxZQUFOLENBQW1CUCxZQUFuQixDQUFnQyxtQkFBaEMsQ0FBcEI7O0FBQ0EsVUFBSU0sV0FBSixFQUFpQjtBQUNiLFlBQU1FLE9BQU8sR0FBR0gsS0FBSyxDQUFDRSxZQUFOLENBQW1CUCxZQUFuQixDQUFnQyx5QkFBaEMsSUFBNkQsSUFBN0QsR0FBb0UsSUFBcEY7QUFDQSxZQUFNUyxLQUFLLEdBQUVDLFVBQVUsQ0FBQyxZQUFZO0FBQ2hDLGNBQU1OLEtBQUssR0FBR0YsUUFBUSxDQUFDSSxXQUFELEVBQWEsRUFBYixDQUFSLEdBQTJCLENBQXpDO0FBQ0FILFVBQUFBLE1BQU0sQ0FBQ0MsS0FBUCxDQUFhQSxLQUFiO0FBQ0gsU0FIc0IsRUFHcEJJLE9BSG9CLENBQXZCO0FBSUFMLFFBQUFBLE1BQU0sQ0FBQ1AsZ0JBQVAsQ0FBd0IsY0FBeEIsRUFBdUM7QUFBQSxpQkFBSWUsWUFBWSxDQUFDRixLQUFELENBQWhCO0FBQUEsU0FBdkM7QUFDSDtBQUNKLEtBVkQ7QUFXSDs7QUFFRE4sRUFBQUEsTUFBTSxDQUFDUyxjQUFQLENBQXNCLGVBQXRCLEVBQXVDL0IsTUFBdkM7QUFDSCxDQTdDRCIsInNvdXJjZXNDb250ZW50IjpbIi8vLyA8cmVmZXJlbmNlIHBhdGggPVwiLi4vLi4vbm9kZV9tb2R1bGVzL0B0eXBlcy9yZXZlYWwvaW5kZXguZC50c1wiLz5cbihmdW5jdGlvbiAoKSB7XG5cbiAgICBjb25zdCBwbHVnaW4gPSB7XG4gICAgICAgIGluaXQ6ICgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHN0eWxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3R5bGUnKTtcbiAgICAgICAgICAgIGRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQoc3R5bGUpO1xuICAgICAgICAgICAgYWRkU3VwcG9ydEZvckFuY2hvcldpdGhEYXRhTGluayhzdHlsZS5zaGVldCBhcyBDU1NTdHlsZVNoZWV0KTtcbiAgICAgICAgICAgIGFkZFN1cHBvcnRGb3JUaW1lZFNlY3Rpb25zKClcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBhbGxvd3MgZm9yXG4gICAgICogYDxhIGRhdGEtbGluay1pbmRleGg9XCIxXCI+bGluayB0byBzbGlkZTwvYT5gXG4gICAgICogQHBhcmFtIHdlYnlhcm5zQ1NTXG4gICAgICovXG4gICAgZnVuY3Rpb24gYWRkU3VwcG9ydEZvckFuY2hvcldpdGhEYXRhTGluayh3ZWJ5YXJuc0NTUzogQ1NTU3R5bGVTaGVldCkge1xuICAgICAgICB3ZWJ5YXJuc0NTUy5pbnNlcnRSdWxlKFwiYVtkYXRhLWxpbmstaW5kZXhoXSB7IGN1cnNvcjogcG9pbnRlciB9XCIsIDApO1xuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiYVtkYXRhLWxpbmstaW5kZXhoXVwiKVxuICAgICAgICAgICAgLmZvckVhY2goZSA9PiBlLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZXZ0KSA9PiB7XG4gICAgICAgICAgICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgY29uc3QgcyA9IGUuZ2V0QXR0cmlidXRlKFwiZGF0YS1saW5rLWluZGV4aFwiKTtcbiAgICAgICAgICAgICAgICBpZiAocykge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBpZHggPSBwYXJzZUludChzLCAxMCk7XG4gICAgICAgICAgICAgICAgICAgIFJldmVhbC5zbGlkZShpZHgpXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB9KSlcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBhZGRTdXBwb3J0Rm9yVGltZWRTZWN0aW9ucygpIHtcbiAgICAgICAgUmV2ZWFsLmFkZEV2ZW50TGlzdGVuZXIoJ3NsaWRlY2hhbmdlZCcsIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAgICAgY29uc3QgY3VyQXV0b01vdmUgPSBldmVudC5jdXJyZW50U2xpZGUuZ2V0QXR0cmlidXRlKFwiZGF0YS1hdXRvLW1vdmUtdG9cIik7XG4gICAgICAgICAgICBpZiAoY3VyQXV0b01vdmUpIHtcbiAgICAgICAgICAgICAgICBjb25zdCB0aW1lb3V0ID0gZXZlbnQuY3VycmVudFNsaWRlLmdldEF0dHJpYnV0ZShcImRhdGEtYXV0by1tb3ZlLXRpbWUtc2VjXCIpICogMTAwMCB8IDMwMDA7XG4gICAgICAgICAgICAgICAgY29uc3QgdGltZXI9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBzbGlkZSA9IHBhcnNlSW50KGN1ckF1dG9Nb3ZlLDEwKSAtIDE7XG4gICAgICAgICAgICAgICAgICAgIFJldmVhbC5zbGlkZShzbGlkZSk7XG4gICAgICAgICAgICAgICAgfSwgdGltZW91dCk7XG4gICAgICAgICAgICAgICAgUmV2ZWFsLmFkZEV2ZW50TGlzdGVuZXIoJ3NsaWRlY2hhbmdlZCcsKCk9PmNsZWFyVGltZW91dCh0aW1lcikpXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgfVxuXG4gICAgUmV2ZWFsLnJlZ2lzdGVyUGx1Z2luKCdXZWJ5YXJuUGx1Z2luJywgcGx1Z2luKTtcbn0pKClcbiJdfQ==